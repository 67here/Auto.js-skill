# Auto.js-skill
Auto.js的一些常用功能函数

Autojs的崩溃：

## 一、无障碍常见崩溃：

1.无法click(屏幕长 / 2, 屏幕宽 /2)

原因：无法获取屏幕长款

解决：重启手机

2.开启后，明明事先打开了无障碍，却依然疯狂跳设置

原因：其他软件比如ATX的堵塞，或者就是单纯抽风了

解决：全部关掉，或者重启



二、无障碍特殊崩溃

1.[特殊崩溃]运行脚本后瞬间报错，只有launch和log等命令仍然在执行，错误内有线程字样 

触发条件：魅族系统默认是智能后台，导致它杀了后台，但又没完全杀掉。 所以息屏后，再次点亮，就会触发这个情况

解决：关掉相应软件，无障碍重开，设置允许后台

2.[特殊崩溃]运行脚本到click步骤，直接退出 ，没有报错 ，更换脚本 ，依旧如此

解决：这个需要一步步排查才能发现，暂时原因不明，触发条件是体验版的魅族系统+不正确的app版本，解决就是重启手机

## 二、打包apk

使用auto();去代替 auto.waitFor()并做进按钮中， 以避免不必要的疯狂弹窗

## 三、特殊的语法功能

#### 1.控件点击：

控件的clickable属性为真，使用控件点击，相比于强制点击，识图点击，坐标点击，它的强大之处在于，只要aj看到，就可以点击，无论它是躲在某个悬浮窗后面，还是躲在看不见的下滑栏的底

部,这点也是我认为它能比人操作的快的原因，如果使用其他点击方式，那肯定是人更快，控件点击，直达核心。

#### 2.Matches 正则

在功能函数里有说它的用法，它的原则是每个控件的text，classname 等等文本内容都不可拆分，所以直接textMatches('某某')，而并没有写全，是无法找到的，所以需要.+ 即可，再加上|就可以实现多个

字符的轮流查找

所以textMatches('.+A.+'|'.+B.+')一句话的功能就相当于

textContains(A).find();
textContains(B).find();

两句话的作用，更何况后者还是两个数组，(我不知道在js里面应该叫什么)，同样它支持包名 类名的匹配，所以，是个优化代码的好方法


